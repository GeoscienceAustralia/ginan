inputs:

    root_directory: products/

    atx_files:          [ igs20.atx                                         ]  
    snx_files:  
    - IGS1R03SNX_20191950000_07D_07D_CRD.SNX,
    - tables/igs_satellite_metadata_2203_plus.snx,
    - tables/sat_yaw_bias_rate.snx,
    - tables/qzss_yaw_modes.snx,
    - tables/bds_yaw_modes.snx                        
                          
    otl_blq_files:      [ OLOAD_GO.BLQ                                      ]   
    erp_files:          [ igs96p02.erp                                      ]
    egm_files:          [ tables/EGM2008.gfc                                ]  # Earth gravity model coefficients file
    jpl_files:          [ tables/DE436.1950.2050                            ]  # JPL planetary and lunar ephemerides file
    tide_files:         [ tables/fes2014b_Cnm-Snm.dat                       ]
    
    satellite_data:
        nav_files:  
        - brdm1990.19p                            
        sp3_files:   
        - IGS2R03FIN_20191980000_01D_05M_ORB.SP3
        - IGS2R03FIN_20191990000_01D_05M_ORB.SP3
        - IGS2R03FIN_20192000000_01D_05M_ORB.SP3

    pseudo_observations:
        sp3_inputs:   
        - IGS2R03FIN_20191980000_01D_05M_ORB.SP3
        - IGS2R03FIN_20191990000_01D_05M_ORB.SP3
        - IGS2R03FIN_20192000000_01D_05M_ORB.SP3

outputs:

    root_directory:                 outputs/<CONFIG>/

    trace:
        output_stations:            true
        output_network:             true
        level:                      3
        directory:                  ./
        station_filename:           <CONFIG>-<STATION>.TRACE
        network_filename:           <CONFIG>-<STATION>.TRACE
        output_residuals:           true
        output_config:              true

    log:
        output:                     true
        directory:                  ./
        filename:                   log-<LOGTIME>.json

    orbit_ics:
        output:                     true
        directory:                  ./orbit_ics
        filename:                   <CONFIG>-<LOGTIME>-orbits.yaml

    sp3:
        output:                     true         
        directory:                  ./
        filename:                   <CONFIG>-<LOGTIME>_<SYS>.sp3
        output_interval:            300 
        output_velocities:          true 
        output_inertial:            true 
        orbit_sources:              [ KALMAN ]
        clock_sources:              [ PRECISE ]

    output_rotation:
        period:                     1
        period_units:               day 

    metadata:
        config_description:         ex02
        analysis_agency:            GAA
        analysis_center:            Geoscience Australia
        analysis_program:           Ginan
        rinex_comment:              AUSNETWORK1

mongo:
    enable:                         true
    output_measurements:            true
    output_states:                  true
    delete_history:                 true

debug:
    pseudo_pulses: 0

processing_options:

    epoch_control:
        #start_epoch:                2019-07-17 01:00:00
        #end_epoch:                  2019-07-19 23:00:00
        epoch_interval:             300          #seconds
        # wait_next_epoch:           100000
        # wait_all_stations:         1

    process_modes:
        ppp:                        true
        preprocessor:               false
        spp:                        false

    gnss_general:
        sys_options:
            gal:
                process:	        true
            glo:
                process:	        true
            gps:
                process:	        true

    gnss_models:
        eop:
            enable:                 true

    orbit_propagation:
        central_force:                  true
        planetary_perturbation:         true
        indirect_J2:                    true
        egm_field:                      true
        solid_earth_tide:               true
        ocean_tide:                     true
        general_relativity:             true
        pole_tide_ocean:                true
        pole_tide_solid:                true
        solar_radiation_pressure:       true
        antenna_thrust:                 true
        empirical:                      true
        empirical_dyb_eclipse:          [true, false, false]    
        empirical_rtn_eclipse:          [false, false, false]       
        albedo:                         true

        integrator_time_step:           60
        sat_mass:                       1000
        sat_area:                       15
        srp_cr:                         1.50
        degree_max:                     15
        sat_power:                      100                        # (float) Transmission power use if not specified in the SINEX metadata file

        itrf_pseudoobs:                 true

    filter_options:
        simulate_filter_only:       false

        outlier_screening:
            sigma_check:            false    # (bool)  Enable prefit and postfit sigma check
            chi_square_mode:        state   # (enum)  Chi-square test mode - innovation, measurement, state {none,innovation,measurement,state}
            chi_square_test:        false   # (bool)  Enable Chi-square test
            max_filter_iterations:  5
            max_prefit_removals:    1       # (int) Maximum number of measurements to exclude using prefit checks before attempting to filter
            w_test:                 true    # (bool)  Enable w-test
            sigma_threshold:        5       # (float) sigma threshold

        rts:
            enable:                 true
            #directory:              /home/ubuntu/efs/

    model_error_checking:
        deweighting:                           # Measurements that are outside the expected confidence bounds may be deweighted so that outliers do not contaminate the filtered solution
            deweight_factor:         1000.0    # (float) Factor to downweight the variance of measurements with statistically detected errors
            reject_on_state_error:   true      # (bool) Any "state" errors cause deweighting of all measurements that reference the state

        orbit_errors:
            enable:                         true
            orbit_pos_proc_noise:           100
            orbit_vel_proc_noise:           1
            orbit_vel_proc_noise_trail:     1
            orbit_vel_proc_noise_trail_tau: 900 

satellite_options:                                  # Options to configure individual satellites, systems, or global configs
    global:
        attitude:
            enable: true                            # (bool) Enables non-nominal attitude types
            sources:    [ MODEL, NOMINAL]       # List of sourecs to use for attitudes
    G23: { aliases: [EST]}
    G02: { aliases: [EST]}
estimation_parameters:

    satellites:
        pseudo_sigmas:             [1]
        #G02:
        EST:
        #GPS:
            orbit:
                estimated:          [true]
                sigma:              [1]
                
            emp_d_0: { estimated: [true], sigma: [1]}
            emp_y_0: { estimated: [true], sigma: [1]}
            emp_b_0: { estimated: [true], sigma: [1]}

            emp_d_1: { estimated: [true], sigma: [1]}
           #emp_y_1: { estimated: [true], sigma: [1e6]}
            emp_b_1: { estimated: [true], sigma: [1]}

            emp_d_2: { estimated: [true], sigma: [1]}
           #emp_y_2: { estimated: [true], sigma: [1e6]}
           #emp_b_2: { estimated: [true], sigma: [1e6]}
           
           #emp_d_3: { estimated: [true], sigma: [1e6]}
           #emp_y_3: { estimated: [true], sigma: [1e6]}
           #emp_b_3: { estimated: [true], sigma: [1e6]}
           
            emp_d_4: { estimated: [true], sigma: [1]}
           #emp_y_4: { estimated: [true], sigma: [1e6]}
           #emp_b_4: { estimated: [true], sigma: [1e6]}
    eop:
       estimated:                  [ true ]
       sigma:                      [ 10 ]
       #proc_noise:                 [ 0.0000001 ]
    eop_rates:
       estimated:                  [ true ]
       sigma:                      [ 10 ]
       #proc_noise:                 [ 0.0000001 ]
