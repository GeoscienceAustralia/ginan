

inputs:
    root_directory: products/
    snx_files:  [ "*.snx", "*.SNX"    ]
    atx_files:  [ igs20.atx            ]  
    blq_files:  [ OLOAD_GO.BLQ         ]  
    egm_files:  [ EGM2008_short.gfc    ]  
    jpl_files:  [ linux_p1550p2650.440 ]  
    tide_files: [ fes2014b_Cnm-Snm.dat ]
    igrf_files: [ igrf13coeffs.txt     ]
    
    erp_files:  [ "*.ERP"            ]
    satellite_data:
        clk_files: [ "*.CLK"         ] 
        bsx_files: [ "*.BIA"         ] 
        sp3_files: [ "*.SP3"         ]
        obx_files: [ "*.OBX"         ]
    gnss_observations:
        inputs_root: ../data/
        rnx_inputs:
            - "STR1*.rnx"
            - "STR2*.rnx"
            - "STR3*.rnx"
    troposphere:
        gpt2grid_files:  gpt_25.grd

outputs:
    root_directory:          outputs/<CONFIG>/
    trace:
        level:                      2
        output_stations:            true
        directory:                  ./
        output_network:             true
        station_filename:           <STATION>_<YYYY><DDD><HH>.TRACE
        network_filename:           <STATION>_<YYYY><DDD><HH>.TRACE
        output_residuals:           true
        output_residual_chain:      true
        output_config:              true
    ppp_sol:                              
        output:                 true         
        filename:               <STATION><YYYY><DDD><HH>_<CONFIG>.POS
    ionstec:
        output:                     true         
        filename:                   REG10_<YYYY><DDD><HH>_<CONFIG>.STEC
    metadata:
        config_description:     "ex203"

mongo:
    enable:                     true
    uri:                        mongodb://127.0.0.1:27017
    database:                   <CONFIG>
    output_rtcm_messages:       true
    output_components:          true
    output_states:              true
    output_measurements:        true
    output_test_stats:          true
    output_trace:               true
    delete_history:             true
    suffix:                     ""

station_options:
    global:
        phase_bias:
            enable:         true

satellite_options:
    global:
        phase_bias:
            enable:         true

estimation_parameters:
    stations:
        global:
            pos:
                estimated:              [true]
                sigma:                  [100]
                proc_noise:             [100] 
            clk:
                estimated:              [true]
                sigma:                  [1000]
                proc_noise:             [100]
            amb:
                estimated:              [true]
                sigma:                  [1000]
                proc_noise:             [0]
            trop:
                estimated:              [true]
                sigma:                  [0.3]
                proc_noise:             [0.0001]
            trop_grads:
                estimated:              [true]
                sigma:                  [0.03]
                proc_noise:             [1.0E-6]
            ion_model:
                estimated:              [true]
                sigma:                  [200]
                proc_noise:             [10]
            code_bias:
                estimated:              [true]
                sigma:                  [20]
                proc_noise:             [0]
            phase_bias:
                estimated:              [true]
                sigma:                  [10]
                proc_noise:             [0]
        STR2:
            pos:
                sigma:                  [1e-8]
                proc_noise:             [0] 

processing_options:
    process_modes:
        ppp:                            true
        # ionosphere:                     true
    epoch_control:
        start_epoch:                    2023-04-23 00:00:00
        epoch_interval:                 30
        max_epochs:                     600
    gnss_general:   
        error_model:                    elevation_dependent
        code_measurements:
            sigmas:                     [0.3]
        phase_measurements:
            sigmas:                     [0.003]
        elevation_mask:                 10  #degrees
        rec_reference_system:           GPS
        sys_options:
            gps:
                process:                true
                reject_eclipse:         false
                # zero_receiver_dcb:      true
                code_priorities:        [ L1C, L2W ]
                use_for_iono_model:     true
                ambiguity_resolution:   true
            gal:
                process:                true
                reject_eclipse:         false
                # zero_receiver_dcb:      true
                code_priorities:        [ L1C, L5Q, L1X, L5X ]
                use_for_iono_model:     true
                ambiguity_resolution:   true
    gnss_models:
        troposphere:
            model:                      gpt2
        ionospheric_component:
            enable:                     false
            # iono_sigma_limit:           11
        ionospheric_model:
            enable:                     true
            model:                      local
            layer_heights:              [0]
    filter_options:
        # rts:
        #     enable:                     true
        outlier_screening:
            max_filter_iterations:      5 
            max_prefit_removals:        3 
    model_error_checking:
        deweighting:
            deweight_factor:            1000
        ambiguities:
            outage_reset_limit:         5
            phase_reject_limit:         2
            reinit_on_all_slips:        true
    ambiguity_resolution:
        elevation_mask:                 15
        lambda_set_size:                200
        mode:                           lambda_bie
        success_rate_threshold:         0.99
        solution_ratio_threshold:       30
        # fix_and_hold:                   true
        # once_per_epoch:                 false
    ssr_corrections:
        atmpospheric:
            region_id:                  10
            grid_type:                  1
            use_grid_iono:              false
            npoly_iono:                 1
            min_lat:                    -36
            max_lat:                    -35
            min_lon:                    149
            max_lon:                    150
